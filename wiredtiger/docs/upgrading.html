<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>WiredTiger: Upgrading WiredTiger applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="wiredtiger.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://wiredtiger.com/"><img alt="Logo" src="LogoFinal-header.png" alt="WiredTiger" /></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Version 3.0.0</span>
   </div>
   <div id="projectbrief"><!-- 3.0.0 --></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<div class="banner">
  <a href="https://github.com/wiredtiger/wiredtiger">Fork me on GitHub</a>
  <a class="last" href="http://groups.google.com/group/wiredtiger-users">Join my user group</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="community.html"><span>Community</span></a></li>
      <li><a href="license.html"><span>License</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('upgrading.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Upgrading WiredTiger applications </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="version_300"></a>
Upgrading to Version 3.0.0</h1>
<dl>
<dt>WiredTiger on-disk log file format change </dt>
<dd><p class="startdd">The WiredTiger on-disk file format for write-ahead log files has changed to include a new internal system log record. </p>
<p class="enddd"></p>
</dd>
<dt>Addition of compatibility configuration setting </dt>
<dd><p class="startdd">There is now a compatibility setting that allows the user to upgrade or downgrade the log files generated so that they can be run with an older release. </p>
<p class="enddd"></p>
</dd>
<dt>Cached overflow record statistics </dt>
<dd><p class="startdd">The <code>cache_overflow_value</code> ("overflow values cached in memory") statistic has been removed, it no longer has any meaning. </p>
<p class="enddd"></p>
</dd>
<dt>Performance visualization tool wtstats </dt>
<dd><p class="startdd">The performance visualization tool <code>wtstats</code> has been removed and is no longer supported. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_292"></a>
Upgrading to Version 2.9.2</h1>
<dl>
<dt>Logging subsystem statistics </dt>
<dd><p class="startdd">Two logging subsystem statistics have been removed as they were a duplicate of other statistics. The <code>log_slot_joins</code> and <code>log_slot_transitions</code> statistics are no longer present. They were duplicates of <code>log_writes</code> and <code>log_slot_closes</code> respectively. Several new logging related statistics have been added. </p>
<p class="enddd"></p>
</dd>
<dt>WiredTiger Utility now supports truncate </dt>
<dd><p class="startdd">The WiredTiger utility <code>wt</code> can now <code>truncate</code> objects, removing all contents from the specified object. </p>
<p class="enddd"></p>
</dd>
<dt>Handle list lock statistics </dt>
<dd><p class="startdd">In the 2.9.1 release we added statistics tracking handle list lock timing, we have switched that lock from a spin lock to a read-write lock, and consequently changed the statistics tracking lock related wait time. </p>
<p class="enddd"></p>
</dd>
<dt>Logging subsystem statistics </dt>
<dd><p class="startdd">Two logging subsystem statistics have been removed as they were a duplicate of other statistics. The <code>log_slot_joins</code> and <code>log_slot_transitions</code> statistics are no longer present. They were duplicates of <code>log_writes</code> and <code>log_slot_closes</code> respectively. Several new logging related statistics have been added. </p>
<p class="enddd"></p>
</dd>
<dt>Forced and named checkpoint error conditions changed </dt>
<dd><p class="startdd">There are new cases where checkpoints created with an explicit name or the "force" configuration option can return an EBUSY error. This can happen if the checkpoint overlaps with other schema operations, for example table create. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___c_u_r_s_o_r.html#abbba24fe607fee519c4c9c4669cd4455" title="Remove a record. ">WT_CURSOR::remove</a> may not return a positioned cursor </dt>
<dd><p class="startdd">The <a class="el" href="struct_w_t___c_u_r_s_o_r.html#abbba24fe607fee519c4c9c4669cd4455" title="Remove a record. ">WT_CURSOR::remove</a> method was previously documented to always return a positioned cursor on success, which is not possible when <code>overwrite=true</code> and the record does not exist.</p>
<p>The documentation has been updated, and the method has been changed to never return a cursor position unless called with an existing cursor position. In other words, if the cursor is positioned and the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#abbba24fe607fee519c4c9c4669cd4455" title="Remove a record. ">WT_CURSOR::remove</a> is called, the cursor will remain positioned; if the cursor is not positioned and the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#abbba24fe607fee519c4c9c4669cd4455" title="Remove a record. ">WT_CURSOR::remove</a> method is called, the cursor will not be positioned on return. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_291"></a>
Upgrading to Version 2.9.1</h1>
<dl>
<dt>Changes to hazard pointer configuration </dt>
<dd><p class="startdd">The <code>hazard_max</code> parameter to <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> is now ignored. Memory is allocated for hazard pointers as required by each session. </p>
<p class="enddd"></p>
</dd>
<dt>Change to the default fadvise behavior for data files </dt>
<dd><p class="startdd">The old default behavior was to advise the file system that access would be random for data files, and there was no way to alter that. We no longer call advise the file system of expected access patterns by default, and have added a new <code>access_pattern_hint</code> configuration option available for <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> that can be used to restore the old default by setting the value to "random". </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_290"></a>
Upgrading to Version 2.9.0</h1>
<dl>
<dt>Changes to cursor behavior after <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> </dt>
<dd><p class="startdd">After a successful call to <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a>, unless a cursor has record number keys and was configured with "append=true", the cursor's key is cleared and a subsequent call to the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#af19f6f9d9c7fc248ab38879032620b2f" title="Get the key for the current record. ">WT_CURSOR::get_key</a> method will fail. In all cursors, the value is cleared and a subsequent call to <a class="el" href="struct_w_t___c_u_r_s_o_r.html#af85364a5af50b95bbc46c82e72f75c01" title="Get the value for the current record. ">WT_CURSOR::get_value</a> will fail. </p>
<p class="enddd"></p>
</dd>
<dt>Cache management defaults </dt>
<dd><p class="startdd">The default values for the <code>eviction_dirty_target</code> and <code>eviction_dirty_trigger</code> settings to <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> have changed to 5 and 20, respectively. This means that by default, WiredTiger will start writing dirty pages from cache when it becomes 5% dirty and will throttle activity to keep the volume of dirty data in cache under 20%. For write-heavy workloads, the new defaults may result in lower throughput and more threads writing to data files concurrently.</p>
<p>There is also a new <code>eviction_checkpoint_target</code> setting that determines how much work is done at the beginning of a checkpoint to make the critical section of checkpoints complete more quickly. </p>
<p class="enddd"></p>
</dd>
<dt>Change to default fadvise setting for data files </dt>
<dd><p class="startdd">The default behavior for data files was to advise the file system to optimize for random access on POSIX and Windows platforms. The default is now to not advise about access patterns. There is a new <code>access_pattern_hint</code> configuration string available to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> that can be used to configure the old default behavior. </p>
<p class="enddd"></p>
</dd>
<dt>Checkpoint server created checkpoint names </dt>
<dd><p class="startdd">The <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> checkpoint configuration no longer supports the <code>name</code> configuration, and checkpoint server created checkpoints will always be named the default WiredTiger checkpoint name, "WiredTigerCheckpoint". Applications depending on the ability to set the checkpoint name for the checkpoint server will require modification. </p>
<p class="enddd"></p>
</dd>
<dt>Statistics logging path </dt>
<dd><p class="startdd">The <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> statistics logging path configuration has been simplified to be only a path to a directory, and the file name component of the path may no longer be specified. Applications depending on the ability to set statistics log file names will require modification. </p>
<p class="enddd"></p>
</dd>
<dt>Removed and renamed statistics fields </dt>
<dd><p class="startdd">WT_STAT_JOIN_ACTUAL_COUNT is renamed to WT_STAT_JOIN_ITERATED</p>
<p>WT_STAT_CONN_CACHE_BYTES_OVERFLOW removed since overflow pages are not cached</p>
<p>WT_STAT_CONN_CACHE_EVICTION_SERVER_NOT_EVICTING removed since all eviction threads can now be the server </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_280"></a>
Upgrading to Version 2.8.0</h1>
<dl>
<dt>LSM metadata </dt>
<dd><p class="startdd">There is a change to the format of LSM metadata in this release to fix bugs in dump / load of tables of type LSM. Tables created with the old LSM metadata format will be upgraded automatically, but once updated to the new version <b>are no longer compatible with older releases of WiredTiger</b>. </p>
<p class="enddd"></p>
</dd>
<dt>Column-store bulk-load cursors </dt>
<dd><p class="startdd">Historically, bulk-load of a column-store object ignored any key set in the cursor and automatically assigned each inserted row the next sequential record number for its key. In the 2.8.0 release, column-store objects match row-store behavior and require the cursor key be set before an insert. (This allows sparse tables to be created in column-store objects, any skipped records are created as already-deleted rows.) To match the previous behavior, specify the <code>append</code> configuration string when opening the column-store bulk-load cursor; this causes the cursor's key to be ignored and each inserted row will be assigned the next record number. </p>
<p class="enddd"></p>
</dd>
<dt>Change to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ac2bad195e24710d52d730fe3a7c1756a" title="Truncate a file, table or cursor range. ">WT_SESSION::truncate</a> with URI </dt>
<dd><p class="startdd">If using the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ac2bad195e24710d52d730fe3a7c1756a" title="Truncate a file, table or cursor range. ">WT_SESSION::truncate</a> API with a file: URI for a full table truncate, underlying algorithmic changes result in some visible differences. This call can now return WT_ROLLBACK. Applications should be prepared to handle this error. This method no longer requires exclusive access to the table. Also the underlying disk space may not be immediately reclaimed when the call returns. The performance of this API may differ from earlier releases. </p>
<p class="enddd"></p>
</dd>
<dt>Bzip2 compression support </dt>
<dd><p class="startdd">Support for the bzip2 compression/decompression engine has been removed from the WiredTiger release; remaining compression engines include LZ4, snappy and zlib. </p>
<p class="enddd"></p>
</dd>
<dt>Change to named checkpoints with bulk loads </dt>
<dd><p class="startdd">Previous versions of WiredTiger created empty named checkpoints in files being bulk-loaded. In this release, checkpoint skips files being bulk-loaded, so they do not get named checkpoints that complete during the bulk load. </p>
<p class="enddd"></p>
</dd>
<dt>Remove WT_LSN structure from public API </dt>
<dd><p class="startdd">The WiredTiger public API used to define a structure that could encapsulate log sequence numbers. That structure is no longer exposed publicly. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_270"></a>
Upgrading to Version 2.7.0</h1>
<dl>
<dt>Change to config_base=false </dt>
<dd><p class="startdd">If <code>config_base=false</code> in the config passed directly to <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a>, any existing base configuration file will now be ignored. If an application was relying on this behavior, a connection will be opened with different settings after upgrading, which could lead to errors or unexpected behavior. </p>
<p class="enddd"></p>
</dd>
<dt>Statistic change </dt>
<dd><p class="startdd">The statistic "pages split during eviction" was replaced. It has been replaced by a pair of statistics "internal pages split during eviction" and "leaf pages split during eviction". </p>
<p class="enddd"></p>
</dd>
<dt>Change to <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> </dt>
<dd><p class="startdd">The <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> method in this release has slightly different semantics with respect to referencing application memory. In previous releases, <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> continued to reference application-memory specified to either <a class="el" href="struct_w_t___c_u_r_s_o_r.html#ad1088d719df40babc1f57d086691ebdc" title="Set the key for the next operation. ">WT_CURSOR::set_key</a> or <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a27f7cbd0cd3e561f6a145704813ad64c" title="Set the value for the next operation. ">WT_CURSOR::set_value</a> after a successful return, which could potentially lead to a core dump if the application freed that memory before a subsequent call to a <a class="el" href="struct_w_t___c_u_r_s_o_r.html" title="A WT_CURSOR handle is the interface to a cursor. ">WT_CURSOR</a>:: method without an intermediate <a class="el" href="struct_w_t___c_u_r_s_o_r.html#ad1088d719df40babc1f57d086691ebdc" title="Set the key for the next operation. ">WT_CURSOR::set_key</a> or <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a27f7cbd0cd3e561f6a145704813ad64c" title="Set the value for the next operation. ">WT_CURSOR::set_value</a> call. In the 2.7.0 release, <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> behaves like the other cursor methods and does not reference application memory after a successful return. Applications depending on the previous semantic will require modifications to set the cursor's key and/or value after a successful <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> call. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a0334da4c85fe8af4197c9a7de27467d3" title="Verify a table or file. ">WT_SESSION.verify</a> </dt>
<dd><p class="startdd">The <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a0334da4c85fe8af4197c9a7de27467d3" title="Verify a table or file. ">WT_SESSION.verify</a> method in this release has a new configuration option, <code>strict</code>. By default, with <code>strict</code> set to <code>false</code>, <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a0334da4c85fe8af4197c9a7de27467d3" title="Verify a table or file. ">WT_SESSION.verify</a> will no longer return an error for problems that do not impact the future use of the object (for example, if a leaked block were detected, the application can continue to run). <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a0334da4c85fe8af4197c9a7de27467d3" title="Verify a table or file. ">WT_SESSION.verify</a> will continue to output an error message whenever an error is detected, only the final return value is affected. This change allows applications to verify objects and continue if at all possible. Applications in development should configure <code>strict</code> to <code>true</code> in order to terminate the application whenever an error is detected. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_261"></a>
Upgrading to Version 2.6.1</h1>
<dl>
<dt>Move the per transaction sync configuration </dt>
<dd><p class="startdd">Move the sync configuration setting from <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a7e26b16b26b5870498752322fad790bf" title="Start a transaction in this session. ">WT_SESSION::begin_transaction</a> to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a712226eca5ade5bd123026c624468fa2" title="Commit the current transaction. ">WT_SESSION::commit_transaction</a>. Change the configuration from a boolean to a string with options of on, off, background. Deprecated support for specifying the configuration to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a7e26b16b26b5870498752322fad790bf" title="Start a transaction in this session. ">WT_SESSION::begin_transaction</a> is maintained for now. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_260"></a>
Upgrading to Version 2.6.0</h1>
<dl>
<dt>LZ4 compression </dt>
<dd><p class="startdd">The LZ4 compression support has been updated in this release in non-backward compatible ways; <b>tables and files compressed using LZ4 compression with WiredTiger 2.5.3 must be dumped then re-loaded using WiredTiger 2.6.0.</b> </p>
<p class="enddd"></p>
</dd>
<dt>wiredtiger_open file manager configuration changes </dt>
<dd><p class="startdd">The configuration settings related to file handle management have changed significantly in this release. If your application uses the file_manager configuration setting, please refer to the API documentation for the latest settings. </p>
<p class="enddd"></p>
</dd>
<dt>Statistic change </dt>
<dd><p class="startdd">The statistic "log read operations" was removed. The function that used that statistic was never called inside WiredTiger and was also removed. </p>
<p class="enddd"></p>
</dd>
<dt>File handle closing </dt>
<dd><p class="startdd">In WiredTiger, a separate thread of control periodically reviews open objects, closing ones which have been idle for some period of time and discarding them from the cache. In previous WiredTiger releases, this review was independent of the number of open file handles. In this release, WiredTiger only reviews the file handles if at least 250 file handles are open. How often file handles are reviewed (the default is 30 seconds), and how many file handles must be opened before review is triggered, can be configured using the <code>file_manager</code> configuration values to the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> call. </p>
<p class="enddd"></p>
</dd>
<dt>Table drop changes </dt>
<dd><p class="startdd">There has been a functionality change to the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#adf785ef53c16d9dcc77e22cc04c87b70" title="Drop (delete) an object. ">WT_SESSION::drop</a> API when the <code>force</code> configuration option is included. The table is now dropped in the background and does not flush data from cache. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_253"></a>
Upgrading to Version 2.5.3</h1>
<dl>
<dt>Configuration string case-sensitivity </dt>
<dd><p class="startdd">In previous WiredTiger releases, there were several cases where configuration strings were treated in a case-sensitive manner (for example, it was possible to specify "True", "true" or even "tRuE" as a boolean value). For consistency, in this release all WiredTiger configuration strings are case-sensitive, and only "true" will be accepted. </p>
<p class="enddd"></p>
</dd>
<dt>Statistics cursor refresh </dt>
<dd><p class="startdd">In previous releases of WiredTiger, a statistics cursor made a snapshot of the relevant statistics before the first statistics value was read, and those values remained unchanged from that point on, no matter how the cursor was used. In the WiredTiger 2.5.2 release, calling the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#afc1b42c22c9c85e1ba08ce3b34437565" title="Reset the cursor. ">WT_CURSOR::reset</a> method to reset the cursor refreshes the statistics returned by the cursor. </p>
<p class="enddd"></p>
</dd>
<dt>Buffer alignment on Linux </dt>
<dd><p class="startdd">In previous releases of WiredTiger, all buffers used for I/O were aligned to 4KB boundaries by default. In the WiredTiger 2.5.2 release, alignment is only enforced when direct I/O is configured. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_252"></a>
Upgrading to Version 2.5.2</h1>
<p>There are no special upgrade steps required.</p>
<h1><a class="anchor" id="version_251"></a>
Upgrading to Version 2.5.1</h1>
<dl>
<dt>Statistics cursors on data sources </dt>
<dd><p class="startdd">Opening a statistics cursor on a data source without a <code>checkpoint</code> name no longer aggregates statistics for all open checkpoints on that data source. The returned statistics will only be for the in-memory version of the data source.</p>
<p>For applications that read and write from ordinary tables (without specifying a <code>checkpoint</code>), there will be no change. Applications that opened cursors on checkpoints and relied on their statistics being aggregated into a single statistics cursor will need to open statistics cursors on each checkpoint. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_250"></a>
Upgrading to Version 2.5.0</h1>
<dl>
<dt>WT_STAT_CONN_LOG_BYTES_USER renamed WT_STAT_CONN_LOG_BYTES_PAYLOAD </dt>
<dd><p class="startdd">The statistic for the number of bytes written to the log minus the overhead of log record headers and padding was renamed to make the intent clearer. Any applications using the old name will need to be updated. </p>
<p class="enddd"></p>
</dd>
<dt>"none" configuration for collators, compressors and extractors </dt>
<dd><p class="startdd">Collators, compressors and extractors can now be disabled with an explicit <code>"none"</code> value as an alternative to using an empty string. Any applications using the name <code>"none"</code> for a collator, compressor or extractor will need to be updated. </p>
<p class="enddd"></p>
</dd>
<dt>maximum keys and value sizes </dt>
<dd><p class="startdd">The <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> <code>internal_item_max</code> and <code>leaf_item_max</code> configuration strings are now deprecated in favor of the <code>internal_key_max</code>, <code>leaf_key_max</code>, and <code>leaf_value_max</code> configuration strings. See <a class="el" href="tune_page_size_and_comp.html">Tuning page size and compression</a> for more information. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_241"></a>
Upgrading to Version 2.4.1</h1>
<dl>
<dt>WT_DEADLOCK renamed </dt>
<dd>The <code>WT_DEADLOCK</code> error return has been deprecated in favor of <a class="el" href="group__wt.html#ga5ee3c6fcd074e11efd118f3e68e91db8" title="Conflict between concurrent operations. ">WT_ROLLBACK</a> to clarify that <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ab45f521464ad9e54d9b15efc2ffe20a1" title="Roll back the current transaction. ">WT_SESSION::rollback_transaction</a> should be called; no program changes are required.  </dd>
<dt>Statistics keys changed </dt>
<dd><p class="startdd">The names of WiredTiger statistics have been updated to be more consistently named, and simpler to categorize. Any application that was parsing the strings output by statistics will need to be updated. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_240"></a>
Upgrading to Version 2.4.0</h1>
<dl>
<dt>Default configuration file changes </dt>
<dd>WiredTiger creates a configuration file when a database is first created. This release adds a version number to that configuration file, and functionality to automatically translate configuration settings between versions moving forward.  </dd>
<dt>Cursors no longer reset on transaction begin or commit </dt>
<dd><p class="startdd">In previous versions of WiredTiger, all cursors in a session were reset at transaction boundaries (<a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a7e26b16b26b5870498752322fad790bf" title="Start a transaction in this session. ">WT_SESSION::begin_transaction</a>, <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a712226eca5ade5bd123026c624468fa2" title="Commit the current transaction. ">WT_SESSION::commit_transaction</a> and <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ab45f521464ad9e54d9b15efc2ffe20a1" title="Roll back the current transaction. ">WT_SESSION::rollback_transaction</a>). Now they are only reset by <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ab45f521464ad9e54d9b15efc2ffe20a1" title="Roll back the current transaction. ">WT_SESSION::rollback_transaction</a>.</p>
<p>This change means that a cursor can be used to iterate through a table and perform transactional updates based on the visited records without the cursor losing its position.</p>
<p>Applications relying on this behavior (for example, to avoid pinning the underlying cursor resources), should reset cursors explicitly when the position is no longer required. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___c_o_l_l_a_t_o_r.html" title="The interface implemented by applications to provide custom ordering of records. ">WT_COLLATOR</a> interface changes </dt>
<dd>Add a new <a class="el" href="struct_w_t___c_o_l_l_a_t_o_r.html#a9345d19dc3df3e886da037181f9fac81" title="If non-NULL, this callback is called to customize the collator for each data source. ">WT_COLLATOR::customize</a> callback that WiredTiger will call (if set) for each data source configured to use the collator. Applications using the existing <a class="el" href="struct_w_t___c_o_l_l_a_t_o_r.html" title="The interface implemented by applications to provide custom ordering of records. ">WT_COLLATOR</a> interface that do not require the new functionality should set this callback to <code>NULL</code>.  </dd>
<dt><a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> lsm_merge option changed </dt>
<dd>The global lsm_merge configuration setting has been moved into the <code>lsm_manager</code> option group. To disable merges in all LSM trees pass <code>lsm_manger=</code>(merge=false) to <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a>.  </dd>
<dt>Java include path search changes </dt>
<dd>We have updated the configure logic used to search for Java Native Interface files. This fixes problems building WiredTiger's Java API, particularly on OS X, but may introduce problems if your build procedure relied on the old search behavior.  </dd>
<dt>Default mutex implementation changed </dt>
<dd>The default mutex implementation has been changed from adaptive pthread mutexes to non-adaptive pthread mutexes. Installations can explicitly select adaptive pthread mutexes by specifying <code>&ndash;with-spinlock=pthread_adaptive</code> at configuration time.  </dd>
<dt>LSM merge threads option change </dt>
<dd><p class="startdd">The <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> <code>lsm=</code>(merge_threads) configuration option has been replaced by the W::wiredtiger_open <code>lsm_manager=</code>(worker_thread_max) option. The new version specifies a set of LSM threads that are shared across all LSM trees in a database, the older configuration was per LSM table. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_231"></a>
Upgrading to Version 2.3.1</h1>
<dl>
<dt><a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> eviction_workers configuration changed </dt>
<dd><p class="startdd">The <code>eviction_workers</code> configuration setting has been replaced by <code>eviction=</code>(threads_min) and <code>eviction=</code>(threads_max) settings.</p>
<p>There is also a semantic change because <code>eviction_workers</code> used to configure additional threads whereas the new settings configure the total number of threads involved with eviction. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_230"></a>
Upgrading to Version 2.3.0</h1>
<p>There are no special upgrade steps required.</p>
<h1><a class="anchor" id="version_221"></a>
Upgrading to Version 2.2.1</h1>
<dl>
<dt><a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> configuration parsing order changed </dt>
<dd><p class="startdd">In the 2.2.1 release, the order that configuration strings are parsed and override earlier values changed. Applications using the <code>Wiredtiger.config</code> file or <code>WIREDTIGER_CONFIG</code> environment variable may need to change. The old order: </p>
<ol>
<li>
default <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> configuration </li>
<li>
base configuration file, created with the database </li>
<li>
user configuration file <code>Wiredtiger.config</code> </li>
<li>
user environment variable <code>WIREDTIGER_CONFIG</code> </li>
<li>
configuration string passed in to <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> </li>
</ol>
<p>In the new order the user's configuration settings override:</p>
<ol>
<li>
default <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> configuration </li>
<li>
base configuration file, created with the database </li>
<li>
configuration string passed in to <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> </li>
<li>
user configuration file <code>Wiredtiger.config</code> </li>
<li>
user environment variable <code>WIREDTIGER_CONFIG</code> </li>
</ol>
<p class="enddd"></p>
</dd>
<dt><code>os_cache_dirty_max</code> off for LSM </dt>
<dd><p class="startdd">In some earlier versions of WiredTiger, creating an LSM table automatically configured <code>os_cache_dirty_max</code>, causing additional system calls that slowed some workloads. Applications that benefit from this setting should set it explicitly in <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a>. </p>
<p class="enddd"></p>
</dd>
<dt><code>transaction_sync</code> setting change </dt>
<dd><p class="startdd">In the 2.2.1 release of WiredTiger the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> <code>transaction_sync</code> configuration setting has changed from a string value to a structure with two fields: <code>method</code>, which corresponds to the previous value (<code>dsync</code>, <code>fsync</code> or <code>none</code>), and <code>enabled</code>, which determines whether there is a sync on every transaction commit by default. Applications can enable or disable sync for a specific transaction with the <code>sync</code> setting to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a7e26b16b26b5870498752322fad790bf" title="Start a transaction in this session. ">WT_SESSION::begin_transaction</a>. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_220"></a>
Upgrading to Version 2.2.0</h1>
<dl>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> prefix_compression disabled by default </dt>
<dd><p class="startdd">In the 2.2.0 release, prefix compression default to <code>false</code>. Applications that benefit from prefix compression will need to explicitly set <code>prefix_compression=true</code> when creating tables. </p>
<p class="enddd"></p>
</dd>
<dt>wiredtiger_open verbose message changes </dt>
<dd><p class="startdd">In the 2.2.0 release it is now necessary to include <code>&ndash;enable-verbose</code> in the configure command to be able to use verbose messages. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_212"></a>
Upgrading to Version 2.1.2</h1>
<dl>
<dt><a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> shared_cache configuration changes </dt>
<dd><p class="startdd">In the 2.1.2 release of WiredTiger the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> <code>shared_cache</code> configuration option group have changed. The option that was named <code>enable</code> is no longer available. To enable a <code>shared_cache</code> it is compulsory to name the pool being shared. We are now also enforcing that only one of <code>cache_size</code> and <code>shared_cache</code> are specified in the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> configuration string. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_211"></a>
Upgrading to Version 2.1.1</h1>
<dl>
<dt>WT_EXTENSION_API::config methods </dt>
<dd><p class="startdd">In the 2.1.1 release of WiredTiger the configuration string parsing API has been changed and added to a new public handle. The WT_EXTENSION_API::config_strget, WT_EXTENSION_API::config_scan_begin, WT_EXTENSION_API::config_scan_next and WT_EXTENSION_API::config_scan_end have been removed. They have been replaced by a <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html#a31922e792668c912bfe45d9745e74d4e" title="Create a handle that can be used to parse or create configuration strings compatible with WiredTiger ...">WT_EXTENSION_API::config_parser_open</a> method, which can be used to parse configuration strings. See the <a class="el" href="struct_w_t___c_o_n_f_i_g___p_a_r_s_e_r.html" title="A handle that can be used to search and traverse configuration strings compatible with WiredTiger API...">WT_CONFIG_PARSER</a> documentation for examples on how to use the updated API. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_21"></a>
Upgrading to Version 2.1</h1>
<dl>
<dt><a class="el" href="group__wt.html#abd8b1299dfb5c54dc049fa42a4680b55" title="The number of bytes in the data item. ">WT_ITEM::size</a> type </dt>
<dd><p class="startdd">In the 2.1 release of WiredTiger <a class="el" href="group__wt.html#abd8b1299dfb5c54dc049fa42a4680b55" title="The number of bytes in the data item. ">WT_ITEM::size</a> type has changed from <code>uint32_t</code> to <code>size_t</code>. Applications may require modifications to resolve compile-time errors. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html#a44483644eddbedd07f34e31c5beaf6b5" title="Callback to compress a list of byte strings. ">WT_COMPRESSOR::compress_raw</a> signature </dt>
<dd><p class="startdd">In the 2.1 release of WiredTiger, the behavior of the compress_raw callback has changed so that it will only be retried if it returns <code>EAGAIN</code>. If it returns zero and sets <code>result_slots</code> to zero, WiredTiger will assume that raw compression has failed and will fall back to calling <a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html#a87c339a3442b719896fa5cbe2c530843" title="Callback to compress a chunk of data. ">WT_COMPRESSOR::compress</a>. </p>
<p class="enddd"></p>
</dd>
<dt>Transaction sync default setting </dt>
<dd><p class="startdd">In the 2.1 release of WiredTiger the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> <code>transaction_sync</code> configuration setting default value has changed from "dsync" to "fsync". This is due to enhancements to the group commit implementation in WiredTiger - which mean that greater throughput can be achieved with explicit "fsync" calls than by enabling "dsync" on a file handle. Applications that don't execute concurrent transactions may see better throughput with transaction_sync set to "dsync". </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_20"></a>
Upgrading to Version 2.0</h1>
<dl>
<dt>File format changes </dt>
<dd><p class="startdd">The underlying file format is unchanged in 2.0 </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> LSM configuration options </dt>
<dd><p class="startdd">In the 2.0 release of WiredTiger the LSM configuration options have been collected into a configuration option subgroup. All configuration options to <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> that previously had a prefix of <code>lsm_</code> now belong to the <code>lsm</code> configuration group. If you are explicitly configuring any of the following options, you should review the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> documentation for details of the updated syntax: lsm_auto_throttle, lsm_bloom, lsm_bloom_config, lsm_bloom_bit_count, lsm_bloom_hash_count, lsm_bloom_oldest, lsm_chunk_max, lsm_chunk_size, lsm_merge_max and lsm_merge_threads. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_166"></a>
Upgrading to Version 1.6.6</h1>
<dl>
<dt>File format changes </dt>
<dd><p class="startdd">The underlying file formats changed in the 1.6.6 release; tables and files should be dumped and re-loaded into a new database. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#aafa7a12a4891a5bfdc98673a5b8f9c69" title="Compact a live row- or column-store btree or LSM tree. ">WT_SESSION::compact</a> trigger configuration </dt>
<dd><p class="startdd">In previous releases, the <code>trigger</code> configuration string to the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#aafa7a12a4891a5bfdc98673a5b8f9c69" title="Compact a live row- or column-store btree or LSM tree. ">WT_SESSION::compact</a> method specified a requirement to initiate compaction; in the 1.6.6 release, this configuration string has been removed, and compaction will be attempted if it seems likely at least 10% of the file can be recovered. Applications may require modifications to resolve run-time errors. </p>
<p class="enddd"></p>
</dd>
<dt>Statistics configuration </dt>
<dd><p class="startdd">In previous releases, the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> function took a <code>statistics</code> configuration, which defaulted to false; when set to true, additional, generally performance-expensive statistics were maintained by the database, above and beyond a default set of statistics. In version 1.6.6, the <code>statistics</code> configuration is a list which may be set to "all", "fast" or "none". When set to "none", no statistics are maintained by the database; when set to "fast", only relatively performance-inexpensive statistics are maintained, and when set to "all", all statistics are maintained, regardless of cost.</p>
<p>In previous releases, the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> function took a <code>statistics_log</code> configuration which logged the performance-inexpensive database statistics to a file. In version 1.6.6, the <code>statistics_log</code> configuration logs whatever statistics are configured for the database. If the database is configured with <code>statistics</code> to "none", no statistics will be logged to the file; if the database is configured with "all" or "fast", the corresponding statistics will be logged to the file.</p>
<p>In previous releases, the WT_SESSION::cursor method took <code>statistics_clear</code> and a <code>statistics_fast</code> configurations. The <code>statistics_clear</code> configuration defaulted to false; when set to true, statistics counters were reset after they were gathered by the cursor. The <code>statistics_fast</code> configuration defaulted to true; when set to true, the cursor only gathered performance-inexpensive statistics for the cursor, and when set to false, the cursor gathered all available statistics, regardless of cost.</p>
<p>In version 1.6.6, these two configuration booleans have been replaced with a new configuration list <code>statistics</code>, which may be set from the values "clear", "fast" and "all". When "fast" is configured, only relatively performance-inexpensive statistics are gathered, and when "all" is configured, all statistics are gathered, regardless of cost. When "clear" is configured, statistics counters are reset after they are gathered.</p>
<p>Additionally, in version 1.6.6, statistics cursors must be configured to agree with the database statistics configuration; when the database statistics are configured to "none", attempts to open a statistics cursor will fail; when the database statistics are configured to "fast", a statistics cursor must also be configured to "fast"; when the database statistics are configured to "all", a statistics cursor may be configured to either "fast" or "all". Opening a statistics cursor without configuring either "fast" or "all" will configure the cursor to be the same as the current database configuration.</p>
<p>Applications may require modifications to resolve run-time errors; application statistics configuration and cursors should be reviewed to confirm they are configured for the desired behavior; </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___e_v_e_n_t___h_a_n_d_l_e_r.html" title="The interface implemented by applications to handle error, informational and progress messages...">WT_EVENT_HANDLER</a> interface changes </dt>
<dd><p class="startdd">Add a new <a class="el" href="struct_w_t___e_v_e_n_t___h_a_n_d_l_e_r.html#a97c41f95e363a2a7aa9a9739be4d9ac8" title="Callback to handle automatic close of a WiredTiger handle. ">WT_EVENT_HANDLER::handle_close</a> callback that WiredTiger will call any time it automatically closes an application session or cursor handle.</p>
<p>Additionally add a <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html" title="All data operations are performed in the context of a WT_SESSION. ">WT_SESSION</a> parameter into the existing <a class="el" href="struct_w_t___e_v_e_n_t___h_a_n_d_l_e_r.html#af26a6817fcc22499496c15b47c0ef788" title="Callback to handle error messages; by default, error messages are written to the stderr stream...">WT_EVENT_HANDLER::handle_error</a>, <a class="el" href="struct_w_t___e_v_e_n_t___h_a_n_d_l_e_r.html#a4b8a4d66d1e4ae5c1e4a87b2eda618d9" title="Callback to handle informational messages; by default, informational messages are written to the stdo...">WT_EVENT_HANDLER::handle_message</a> and <a class="el" href="struct_w_t___e_v_e_n_t___h_a_n_d_l_e_r.html#a14a2a760c981563efb02555c0d0b267d" title="Callback to handle progress messages; by default, no progress messages are written. ">WT_EVENT_HANDLER::handle_progress</a> callback functions. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_165"></a>
Upgrading to Version 1.6.5</h1>
<dl>
<dt><a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> behavior </dt>
<dd><p class="startdd">In previous releases, the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> ended positioned at the inserted record. To minimize the cursor resources held by applications inserting many records, the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> method has been changed to end without any position. Application insert cursors should be reviewed to confirm they do not attempt to iterate after an insert. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#afb5b4a69c2c5cafe411b2b04fdc1c75d" title="Open a new cursor on a data source or duplicate an existing cursor. ">WT_SESSION::open_cursor</a> statistics_fast configuration </dt>
<dd><p class="startdd">In previous releases, the default <code>statistics_fast</code> configuration to the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#afb5b4a69c2c5cafe411b2b04fdc1c75d" title="Open a new cursor on a data source or duplicate an existing cursor. ">WT_SESSION::open_cursor</a> method was <code>false</code>; in the 1.6.5 release, the default statistics_fast configuration is <code>true</code>. Applications opening statistics cursors should be reviewed to confirm they have the correct behavior. </p>
<p class="enddd"></p>
</dd>
<dt>Synchronous checkpoint configuration </dt>
<dd><p class="startdd">The <code>sync</code> configuration key to <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> has been renamed <code>checkpoint_sync</code>. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_164"></a>
Upgrading to Version 1.6.4</h1>
<dl>
<dt>File format changes </dt>
<dd><p class="startdd">The underlying file formats changed in the 1.6.4 release; tables and files should be dumped and re-loaded into a new database. </p>
<p class="enddd"></p>
</dd>
<dt>wt utility load command </dt>
<dd><p class="startdd">The default behavior of the <code>wt</code> utility's <code>load</code> command has been changed to overwrite existing data, by default, and the <code>-o</code> flag to the <code>load</code> command (overwrite existing data) has been replaced with the <code>-n</code> flag (do not overwrite existing data). Applications requiring the previous default behavior of not overwriting existing data should add the <code>-n</code> option to their command line configuration; applications previously using the <code>-o</code> option on their command line configurations should remove it. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_163"></a>
Upgrading to Version 1.6.3</h1>
<dl>
<dt>Cursor overwrite configuration </dt>
<dd><p class="startdd">In previous releases, the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#afb5b4a69c2c5cafe411b2b04fdc1c75d" title="Open a new cursor on a data source or duplicate an existing cursor. ">WT_SESSION::open_cursor</a> <code>overwrite</code> configuration string behaved inconsistently across Btree and LSM data sources. In Btree, <code>overwrite</code> was <code>false</code> by default and was limited to the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> method, changing an insert to succeed regardless of whether or not the record previously existed. In LSM trees, <code>overwrite</code> was <code>true</code> by default, and applied to the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a>, <a class="el" href="struct_w_t___c_u_r_s_o_r.html#abbba24fe607fee519c4c9c4669cd4455" title="Remove a record. ">WT_CURSOR::remove</a> and <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a444cdc0952e7f8d55d23173516c7037f" title="Update an existing record and optionally insert a record. ">WT_CURSOR::update</a> methods, configuring all three methods to ignore the existing state of the record.</p>
<p>In the 1.6.3 release, the <code>overwrite</code> configuration is consistent across both Btree and LSM tree data sources. For performance reasons, the default is the behavior previously described for LSM trees: in other words, <code>overwrite</code> is <code>true</code> by default, causing <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a>, <a class="el" href="struct_w_t___c_u_r_s_o_r.html#abbba24fe607fee519c4c9c4669cd4455" title="Remove a record. ">WT_CURSOR::remove</a> and <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a444cdc0952e7f8d55d23173516c7037f" title="Update an existing record and optionally insert a record. ">WT_CURSOR::update</a> to ignore the current state of the record, and these methods will succeed regardless of whether or not the record previously exists. When an application configures <code>overwrite</code> to <code>false</code>, <a class="el" href="struct_w_t___c_u_r_s_o_r.html#aac90d9fbcc031570f924db55f8a1cee3" title="Insert a record and optionally update an existing record. ">WT_CURSOR::insert</a> will fail with <a class="el" href="group__wt.html#gaeca1f3c4a70b8b71b56d2c2fc99a469c" title="Attempt to insert an existing key. ">WT_DUPLICATE_KEY</a> if the record previously exists, and <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a444cdc0952e7f8d55d23173516c7037f" title="Update an existing record and optionally insert a record. ">WT_CURSOR::update</a> and <a class="el" href="struct_w_t___c_u_r_s_o_r.html#abbba24fe607fee519c4c9c4669cd4455" title="Remove a record. ">WT_CURSOR::remove</a> will fail with <a class="el" href="group__wt.html#ga3c9e1b494d95cf34404ab7a974af6bf8" title="Item not found. ">WT_NOTFOUND</a> if the record does not previously exist.</p>
<p><b>This is a potentially serious API change that will not be detected by compilation.</b> Application cursors should be reviewed to confirm they are configured for the desired behavior. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> no longer accepts a <code>transactional</code> configuration </dt>
<dd><p class="startdd">The <code>transactional</code> configuration key has been removed from <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a>. Any application setting it should simply remove it, no change in application behavior is needed. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_162"></a>
Upgrading to Version 1.6.2</h1>
<dl>
<dt>Table of WiredTiger extension methods </dt>
<dd><p class="startdd">New functionality was added to the list of WiredTiger extension methods; applications using the extension methods will require recompilation. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> no longer accepts a "source" configuration </dt>
<dd><p class="startdd">The <code>"source"</code> configuration key has been removed from <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a>. Normal applications should not have been using it, and there were a number of bugs associated with it. </p>
<p class="enddd"></p>
</dd>
<dt>Default checksum configuration </dt>
<dd><p class="startdd">The default file checksum configuration was changed to <code>uncompressed</code>, which means blocks that are compressed will no longer also include a checksum, by default. Applications using compression insufficient for the purposes of corrupted block identification should change their file checksum configuration to <code>on</code>. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_161"></a>
Upgrading to Version 1.6.1</h1>
<dl>
<dt>Default page sizes </dt>
<dd><p class="startdd">In the 1.6.1 release, the default for the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> configuration string <code>allocation_size</code> changed from 512B to 4KB, and the default for the configuration string <code>internal_page_max</code> changed from 2KB to 4KB. Applications wanting to create files with smaller allocation or internal page sizes will need to set those configuration values explicitly. </p>
<p class="enddd"></p>
</dd>
<dt>Shared cache configuration </dt>
<dd><p class="startdd">In the 1.6.1 release, an explicit shared_cache=(enable=boolean) option was added to the wiredtiger_open configuration options. Existing applications that use shared cache functionality will need to add the enable option to the configuration string. The default value for the option is false. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html#a44483644eddbedd07f34e31c5beaf6b5" title="Callback to compress a list of byte strings. ">WT_COMPRESSOR::compress_raw</a> signature </dt>
<dd><p class="startdd">In the 1.6.1 release, the <code>split_pct</code> argument to the <a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html#a44483644eddbedd07f34e31c5beaf6b5" title="Callback to compress a list of byte strings. ">WT_COMPRESSOR::compress_raw</a> function changed type from <code>u_int</code> to <code>int</code>, applications may require modification to avoid compiler warnings. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_160"></a>
Upgrading to Version 1.6.0</h1>
<dl>
<dt>File format changes </dt>
<dd><p class="startdd">The underlying file formats changed in the 1.6.0 release; tables and files should be dumped and re-loaded into a new database. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_153"></a>
Upgrading to Version 1.5.3</h1>
<dl>
<dt>Configuration strings </dt>
<dd><p class="startdd">An undocumented feature where configuration string case was ignored has been removed, and all configuration strings are now case-dependent. Applications may require modifications to resolve run-time errors. </p>
<p class="enddd"></p>
</dd>
<dt>Loading extensions and <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html" title="Table of WiredTiger extension methods. ">WT_EXTENSION_API</a> </dt>
<dd><p class="startdd">The following changes are only applicable to applications loading extensions and/or using the WiredTiger extension functions described in <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html" title="Table of WiredTiger extension methods. ">WT_EXTENSION_API</a>.</p>
<ul>
<li>
<p class="startli">The signature of <a class="el" href="group__wt__ext.html#ga5ed14c916d5dcfe0e81aea9d9ccb7fe3" title="Entry point to an extension, called when the extension is loaded. ">wiredtiger_extension_init</a> has changed from <code>(<a class="el" href="struct_w_t___s_e_s_s_i_o_n.html" title="All data operations are performed in the context of a WT_SESSION. ">WT_SESSION</a> *session, <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html" title="Table of WiredTiger extension methods. ">WT_EXTENSION_API</a> *api)</code> to <code>(<a class="el" href="struct_w_t___c_o_n_n_e_c_t_i_o_n.html" title="A connection to a WiredTiger database. ">WT_CONNECTION</a> *connection)</code>. As no <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html" title="Table of WiredTiger extension methods. ">WT_EXTENSION_API</a> handle reference is passed to the function, the <a class="el" href="struct_w_t___c_o_n_n_e_c_t_i_o_n.html#a99df5b3a17564eb5b3e4ec076590133d" title="Return a reference to the WiredTiger extension functions. ">WT_CONNECTION::get_extension_api</a> has been added to support retrieval of the extension API. Applications may require modifications.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The type of all configuration arguments to extension methods has changed from <code>"const char *"</code> to <code>"WT_CONFIG_ARG *"</code>, and the WT_EXTENSION::config method added to support configuration parsing; applications may require modifications.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The undocumented <code>wiredtiger_XXX</code> defines for <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html" title="Table of WiredTiger extension methods. ">WT_EXTENSION_API</a> extension methods have been removed from the <code>wiredtiger_ext.h</code> include file; applications should instead use the method handles referenced by the <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html" title="Table of WiredTiger extension methods. ">WT_EXTENSION_API</a> handle to call extension functions.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The extension API methods have all changed to require an additional parameter, the <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html" title="Table of WiredTiger extension methods. ">WT_EXTENSION_API</a> method handle; applications may require modifications.</p>
<p class="endli"></p>
</li>
<li>
The WT_SESSION::msg_printf method was replaced by <a class="el" href="struct_w_t___e_x_t_e_n_s_i_o_n___a_p_i.html#a460e65aa13990254a2cd83fe96d4865a" title="Insert a message into the WiredTiger message stream. ">WT_EXTENSION_API::msg_printf</a>; applications may require modifications. </li>
</ul>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html" title="Applications can extend WiredTiger by providing new implementations of the WT_DATA_SOURCE class...">WT_DATA_SOURCE</a> </dt>
<dd><p class="startdd">The following changes are only applicable to applications providing new implementations of the WiredTiger <a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html" title="Applications can extend WiredTiger by providing new implementations of the WT_DATA_SOURCE class...">WT_DATA_SOURCE</a> class.</p>
<ul>
<li>
<p class="startli">The <a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html" title="Applications can extend WiredTiger by providing new implementations of the WT_DATA_SOURCE class...">WT_DATA_SOURCE</a> class has three new methods: <a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html#a85e984645fb506a3d28881a26e7f79a0" title="Callback to compact an object. ">WT_DATA_SOURCE::compact</a>, <a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html#a14537b1218f8c98462ddcd6df83fd1d1" title="Callback to salvage an object. ">WT_DATA_SOURCE::salvage</a>, and <a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html#ad6487a12a6248371e43884cfef7715da" title="Callback to verify an object. ">WT_DATA_SOURCE::verify</a>; applications may require modifications to resolve compile errors.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The <code>owner</code> argument to the <a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html#a919c6b21ecaaffdbde671daab0440f71" title="Callback to initialize a cursor. ">WT_DATA_SOURCE::open_cursor</a> method has been removed; applications may require modifications to resolve compile errors.</p>
<p class="endli"></p>
</li>
<li>
The <code>exclusive</code> argument to the <a class="el" href="struct_w_t___d_a_t_a___s_o_u_r_c_e.html#aaf5e6a2d9c55c997af107bd4a5fb3a0c" title="Callback to create a new object. ">WT_DATA_SOURCE::create</a> method has been removed; applications may require modifications to resolve compile errors. </li>
</ul>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_143"></a>
Upgrading to Version 1.4.3</h1>
<dl>
<dt>Statistics </dt>
<dd><p class="startdd">WiredTiger statistics are no longer maintained by default; to configure statistics, use the <code>statistics</code> configuration string to the <a class="el" href="group__wt.html#ga9e6adae3fc6964ef837a62795c7840ed" title="Open a connection to a database. ">wiredtiger_open</a> function. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_139"></a>
Upgrading to Version 1.3.9</h1>
<dl>
<dt>Compression </dt>
<dd><p class="startdd">A new member, <a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html#a44483644eddbedd07f34e31c5beaf6b5" title="Callback to compress a list of byte strings. ">WT_COMPRESSOR::compress_raw</a>, was added to the <a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html" title="The interface implemented by applications to provide custom compression. ">WT_COMPRESSOR</a> extension API. Applications using the <a class="el" href="struct_w_t___c_o_m_p_r_e_s_s_o_r.html" title="The interface implemented by applications to provide custom compression. ">WT_COMPRESSOR</a> extension API should add a NULL as the second field of that structure. </p>
<p class="enddd"></p>
</dd>
<dt>Checksums </dt>
<dd><p class="startdd">The <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a358ca4141d59c345f401c58501276bbb" title="Create a table, column group, index or file. ">WT_SESSION::create</a> method's <code>checksum</code> configuration string has been changed from a boolean type to a string type. Applications using the checksum configuration string should change a value of <code>true</code> to the string <code>on</code>, and a value of <code>false</code> to the string <code>off</code> or the string <code>uncompressed</code>. </p>
<p class="enddd"></p>
</dd>
<dt>File format changes </dt>
<dd><p class="startdd">The underlying file formats changed in the 1.3.9 release; tables and files should be dumped and re-loaded into a new database. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_138"></a>
Upgrading to Version 1.3.8</h1>
<dl>
<dt>Statistics keys </dt>
<dd><p class="startdd">The <a class="el" href="group__wt.html#statistics_keys">statistics key constants</a> have been renamed to use all capitals, and use consistent prefixes to distinguish between connection statistics and statistics for data sources. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_136"></a>
Upgrading to Version 1.3.6</h1>
<dl>
<dt>Installed library names </dt>
<dd><p class="startdd">The installed WiredTiger extension library names changed to limit namespace pollution:</p>
<table class="doxtable">
<tr>
<th>Library</th><th>Previous Name</th><th>New Name </th></tr>
<tr>
<td>Bzip2 compression</td><td>bzip2_compress.a</td><td>libwiredtiger_bzip2.a </td></tr>
<tr>
<td></td><td>bzip2_compress.la</td><td>libwiredtiger_bzip2.la </td></tr>
<tr>
<td></td><td>bzip2_compress.so</td><td>libwiredtiger_bzip2.so </td></tr>
<tr>
<td>Snappy compression</td><td>snappy_compress.a</td><td>libwiredtiger_snappy.a </td></tr>
<tr>
<td></td><td>snappy_compress.la</td><td>libwiredtiger_snappy.la </td></tr>
<tr>
<td></td><td>snappy_compress.so</td><td>libwiredtiger_snappy.so </td></tr>
<tr>
<td>No-op compression</td><td>nop_compress.a</td><td>No longer installed </td></tr>
<tr>
<td></td><td>nop_compress.la</td><td>No longer installed </td></tr>
<tr>
<td></td><td>nop_compress.so</td><td>No longer installed </td></tr>
<tr>
<td>Reverse order collator</td><td>reverse_collator.a</td><td>No longer installed </td></tr>
<tr>
<td></td><td>reverse_collator.la</td><td>No longer installed </td></tr>
<tr>
<td></td><td>reverse_collator.so</td><td>No longer installed </td></tr>
</table>
<p class="enddd"></p>
</dd>
<dt>Built-in compression names </dt>
<dd><p class="startdd">The built-in compression name arguments to the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html" title="All data operations are performed in the context of a WT_SESSION. ">WT_SESSION</a>:create <code>block_compressor</code> configuration string changed for consistency:</p>
<table class="doxtable">
<tr>
<th>Extension</th><th>Previous Name</th><th>New Name </th></tr>
<tr>
<td>Bzip2 compression</td><td>"bzip2_compress"</td><td>"bzip2" </td></tr>
<tr>
<td>Snappy compression</td><td>"snappy_compress"</td><td>"snappy" </td></tr>
</table>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_135"></a>
Upgrading to Version 1.3.5</h1>
<dl>
<dt>File format changes </dt>
<dd><p class="startdd">The underlying file formats changed in the 1.3.5 release; tables and files should be dumped and re-loaded into a new database. </p>
<p class="enddd"></p>
</dd>
</dl>
<hr/>
 <h1><a class="anchor" id="version_13"></a>
Upgrading to Version 1.3</h1>
<dl>
<dt>Checkpoint and Snapshot </dt>
<dd><p class="startdd">The checkpoint functionality supported by <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a6550c9079198955c5071583941c85bbf" title="Write a transactionally consistent snapshot of a database or set of objects. ">WT_SESSION::checkpoint</a> and the snapshot functionality supported by WT_SESSION::sync have been merged into a single piece of functionality.</p>
<ul>
<li>
<p class="startli"><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a6550c9079198955c5071583941c85bbf" title="Write a transactionally consistent snapshot of a database or set of objects. ">WT_SESSION.checkpoint</a><br/>
 The <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a6550c9079198955c5071583941c85bbf" title="Write a transactionally consistent snapshot of a database or set of objects. ">WT_SESSION::checkpoint</a> method's <code>snapshot</code> configuration string has been renamed to <code>name</code>. The name assigned to checkpoints without a specified <code>name</code> configuration is now <code>"WiredTigerCheckpoint"</code>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli"><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#adf785ef53c16d9dcc77e22cc04c87b70" title="Drop (delete) an object. ">WT_SESSION.drop</a><br/>
 In releases before 1.3, the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#adf785ef53c16d9dcc77e22cc04c87b70" title="Drop (delete) an object. ">WT_SESSION::drop</a> method was used to delete snapshots. In 1.3, the functionality of deleting snapshots has been moved to the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a6550c9079198955c5071583941c85bbf" title="Write a transactionally consistent snapshot of a database or set of objects. ">WT_SESSION::checkpoint</a> method, specifically, snapshots are discarded using the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a6550c9079198955c5071583941c85bbf" title="Write a transactionally consistent snapshot of a database or set of objects. ">WT_SESSION::checkpoint</a> method's <code>drop</code> configuration string.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">WT_SESSION.sync<br/>
 The WT_SESSION::sync method has been removed from the 1.3 release; the functionality of creating an object snapshot has moved to the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a6550c9079198955c5071583941c85bbf" title="Write a transactionally consistent snapshot of a database or set of objects. ">WT_SESSION::checkpoint</a> method, specifically, creating a snapshot of a one or more objects is done using the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a6550c9079198955c5071583941c85bbf" title="Write a transactionally consistent snapshot of a database or set of objects. ">WT_SESSION::checkpoint</a> method's <code>target</code> configuration string.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">wt drop -s<br/>
 The <code>-s</code> option to the <code>drop</code> command for the <code>wt</code> command line utility has been removed, and object snapshots may no longer be removed from the command line.</p>
<p class="endli"></p>
</li>
<li>
wt dump, list -s<br/>
 The <code>-s</code> options to the <code>dump</code> and <code>list</code> commands for the <code>wt</code> command line utility have been renamed to be <code>-c</code>. </li>
</ul>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#afb5b4a69c2c5cafe411b2b04fdc1c75d" title="Open a new cursor on a data source or duplicate an existing cursor. ">WT_SESSION.open_cursor</a> </dt>
<dd><p class="startdd">In releases before 1.3, the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#afb5b4a69c2c5cafe411b2b04fdc1c75d" title="Open a new cursor on a data source or duplicate an existing cursor. ">WT_SESSION::open_cursor</a> method could duplicate cursors that were not positioned in an object; in 1.3, a cursor must be positioned in order to be duplicated. </p>
<p class="enddd"></p>
</dd>
<dt>Transactional cursors </dt>
<dd><p class="startdd">In releases before 1.3, ending a transaction by calling the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a712226eca5ade5bd123026c624468fa2" title="Commit the current transaction. ">WT_SESSION::commit_transaction</a> or <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ab45f521464ad9e54d9b15efc2ffe20a1" title="Roll back the current transaction. ">WT_SESSION::rollback_transaction</a> methods implicitly closed all open cursors; in 1.3, the cursors remain open, but are reset (discarding their positions and cursor values). This means applications must change to either close cursors explicitly, or rely on an eventual <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#a96f25dfa6447034aea1f67ab02ab5698" title="Close the session handle. ">WT_SESSION::close</a> or <a class="el" href="struct_w_t___c_o_n_n_e_c_t_i_o_n.html#af535c517df851eeac8ebf3594d40b545" title="Close a connection. ">WT_CONNECTION::close</a> methods to implicitly close open cursors. </p>
<p class="enddd"></p>
</dd>
<dt>Default transactional isolation level </dt>
<dd><p class="startdd">In releases before 1.3, the default isolation level for transaction was <code>snapshot</code>, and the default isolation level for non-transaction operations was <code>read-uncommitted</code>; in 1.3, the default isolation level for all operations is <code>read-committed</code>.</p>
<p>The default can be overridden for a session using the <code>isolation</code> setting in WT_CONNECTION::open_cursor. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ac2bad195e24710d52d730fe3a7c1756a" title="Truncate a file, table or cursor range. ">WT_SESSION.truncate</a> </dt>
<dd><p class="startdd">In releases before 1.3, the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ac2bad195e24710d52d730fe3a7c1756a" title="Truncate a file, table or cursor range. ">WT_SESSION::truncate</a> method required cursors used for truncation of a cursor range to reference existing keys in the object; in 1.3, the <a class="el" href="struct_w_t___s_e_s_s_i_o_n.html#ac2bad195e24710d52d730fe3a7c1756a" title="Truncate a file, table or cursor range. ">WT_SESSION::truncate</a> method has been changed to allow cursors to reference any valid key in the object's name space so applications may discard portions of the object name space without knowing exactly what records the object contains. </p>
<p class="enddd"></p>
</dd>
<dt><a class="el" href="struct_w_t___c_u_r_s_o_r.html#a6736da9b394239a201ba97761b7b941b" title="Return the ordering relationship between two cursors, testing only for equality: both cursors must ha...">WT_CURSOR.equals</a> </dt>
<dd><p class="startdd">In releases before 1.3, the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a6736da9b394239a201ba97761b7b941b" title="Return the ordering relationship between two cursors, testing only for equality: both cursors must ha...">WT_CURSOR::equals</a> method returned zero/non-zero to indicate cursor equality; in 1.3, the <a class="el" href="struct_w_t___c_u_r_s_o_r.html#a6736da9b394239a201ba97761b7b941b" title="Return the ordering relationship between two cursors, testing only for equality: both cursors must ha...">WT_CURSOR::equals</a> method has been replaced with <a class="el" href="struct_w_t___c_u_r_s_o_r.html#acd3f345e375e26d223ad5c6f35dc15e8" title="Return the ordering relationship between two cursors: both cursors must have the same data source and...">WT_CURSOR::compare</a>, which compares two cursors and returns a cursor comparison status (less than 0, equal to 0, or greater than 0) depending on the cursors' key order. </p>
<p class="enddd"></p>
</dd>
<dt>File format changes </dt>
<dd><p class="startdd">The underlying file formats changed in the 1.3 release; tables and files should be dumped and re-loaded into a new database. </p>
<p class="enddd"></p>
</dd>
</dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Reference Guide</a></li>
    <li class="footer">Copyright (c) 2008-2017 MongoDB, Inc.  All rights reserved.  Contact <a href="mailto:info@wiredtiger.com">info@wiredtiger.com</a> for more information.</li>
  </ul>
</div>
</body>
</html>
